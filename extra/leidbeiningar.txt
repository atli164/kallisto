Bifröst + kallisto sameiningarverkefnið eins og það er núna:
- Það er búið að vefja allt Bifröst library-ið í namespace svo hægt sé að tengja allt saman án þess að það sé gert globally.
- Það er búið að breyta öllum includes og öllu compiling veseni. Það ætti ekki að þurfa að fikta í Cmake eða imports eða því öllu.
- Það er búið að skipta út data types og gera breytingar sem þurfti til að fá allt til að compila eftir það, svo það ættu að vera Bifröst::Kmer og annað slíkt á öllum nauðsynlegum stöðum.
- Það á eftir að finna út hvernig á að gera read/write í file þar sem það þarf líklegast að breyta alveg hvernig það er vistað þar sem gamla data typið var skrifað beint í skrá en nú þarf að samræma það allt við Bifröst og hvernig það skrifar og les þjöppuð net. ( https://github.com/atli164/kallisto/blob/3f855d9d9ef388e94ba16267ae3d51f1262ef173/src/KmerIndex.cpp#L606 )
- Það á eftir að laga það að eins og stendur er verið að reyna að vinna með contigs og unitigs eins og það sé sami hluturinn, en það gengur ekki. Sumar aðgerðir sem eru gerðar í Kallisto til að vinna með gögnin eru ekki hluti af public API í Bifröst. Þetta ósamræmi er það sem veldur því að forritið segfaultar þegar það er keyrt eins og stendur. Til þess að vinna hjá þessu hefur eftirfarandi verið prófað:
* Reyna búa til interface sem convertar milli unitigs og contigs. Þetta (held ég) sé ekki raunhæft þar sem data typin eru einfaldlega ekki jafngild eins og unnið er með þau í Bifröst og Kallisto og ekki er hægt að converta á milli þeirra losslessly án þess að breyta data typunum sjálfum.
* Reyna að breyta hvernig er unnið með data typið þar sem segfaultin gerast. Þetta hefur hingað til bara valdið því að segfaultið (eða annað error) gerist annars staðar í kóðanum og virðist bara fresta vandamálinu. Mig grunar að þþað þurfi stórtækari breytingar en bara að skoða einn stað í einu og reyna setja plástur á það vandamál.
